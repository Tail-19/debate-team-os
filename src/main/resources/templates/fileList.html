<!DOCTYPE html>
<html lang="en">

<head>
  <link href="https://cdn.jsdelivr.net/npm/daisyui@2.46.0/dist/full.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <html data-theme="lemonade">

  </html>
  <meta charset="UTF-8">
  <title>List</title>
</head>

<body>
  <!-- 弹出窗口 上传 -->
  <div class="popBox" id="popBox">
    <div class="popContent">
      <div class="flex flex-col w-full shadow-xl rounded-box">
        <div class="card-body">
          <div class="card-actions justify-end">
            <button class="btn btn-square btn-sm" onclick="closeWin()">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>
          <form enctype="multipart/form-data">
            <div class="flex flex-col w-full">
              <div class="form-control">
                <label class="input-group input-group-vertical">
                  <span>文件名</span>
                  <input type="text" placeholder="在列表页显示的文件名" class="input input-bordered" />
                </label>
              </div>
              <br>
              <select class="select select-primary w-full max-w-xs">
                <option disabled selected>选择Tag</option>
                <option>正方材料</option>
                <option>反方材料</option>
                <option>正反方公用</option>
              </select>
              <br>
              <input type="file" class="file-input file-input-sm file-input-bordered file-input-info w-full max-w-xs" multiple="multiple"/>
              <div class="divider"></div>
            </div>
            <button class="btn btn-accent btn-sm" onclick="asyncUpload()">上传</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- 顶栏 -->
  <div class="navbar bg-base-100">
    <div class="navbar-start">
      <div class="dropdown">
        <label tabindex="0" class="btn btn-ghost btn-circle">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
          </svg>
        </label>
        <ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52">
          <li><a>首页</a></li>
          <li class="bordered"><a>文件管理</a></li>
          <li><a>比赛进度</a></li>
        </ul>
      </div>
    </div>
    <div class="navbar-center">
      <a class="btn btn-ghost normal-case text-xl">资料管理</a>
    </div>
    <div class="navbar-end">
      <button class="btn btn-ghost btn-circle" onclick="popWin()">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </button>
      <div class="form-control">
        <div class="input-group">
          <input type="text" placeholder="Search…" class="input input-bordered" />
          <button class="btn btn-accent" id="searchBox" onclick="handleSearch()">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
      </div>

    </div>
  </div>

  <!-- 列表 -->
  <div class="card bg-base-80 shadow-xl">
    <div class="overflow-x-auto w-full">
      <table class="table w-full">
        <!-- head -->
        <thead>
          <tr>
            <th></th>
            <th>文件名</th>
            <th>上传者</th>
            <th>Tags</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <!-- row 1 -->
          <tr th:each="file:${files}">
            <td>
              <div class="flex items-center space-x-3">
                <div class="avatar">
                  <div class="mask mask-squircle w-12 h-12">
                    <img th:src="${file.path}" alt="图片" />
                  </div>
                </div>
              </div>
            </td>
            <td>
              <div>
                <div class="font-bold" th:text="${file.name}">一个资料名称</div>
                <div class="text-sm opacity-50" th:text="${file.fileType}">ZIP</div>
              </div>
            </td>

            <td th:text="${file.uploader}">
              一个辩手
              <br />
              <span class="badge badge-ghost badge-sm" th:text="${file.uploaderTitle}">黄金大辩</span>
            </td>
            <td>
              <span class="badge badge-accent badge-sm" th:text="${file.tag}">反方材料</span>
            </td>
            <th>
              <a type="button" class="btn  btn-xs btn-success" href="./edit_page.html?id=1"
                th:href="@{./edit(id=${file.id})}">编辑</a>
              <a type="button" class="btn  btn-xs btn-info" href="./api/down?id=1"
                th:href="@{./api/down(id=${file.id})}">下载</a>
              <a type="button" class="btn  btn-xs btn-error" href="./api/del?id=1"
                th:href="@{./api/del(id=${file.id})}">删除</a>
            </th>
          </tr>
        </tbody>
        <!-- foot -->
        <tfoot>
          <tr>
            <th></th>
            <th>文件名</th>
            <th>上传者</th>
            <th>Tags</th>
            <th>操作</th>
          </tr>
        </tfoot>

      </table>
    </div>
  </div>


</body>

<script>
  function popWin() {
    var win = document.getElementById("popBox")
    win.style.display = "block"
  }

  function closeWin() {
    var win = document.getElementById("popBox")
    win.style.display = "none"
  }

  function handleSearch() {

  }

  async function asyncUpload() {
    option = {

    }
    fetch().then(() => {

    })
  }

</script>

<style>
  .popBox {
    display: none;
    /* 默认隐藏 */
    position: absolute;
    /* 根据浏览器定位 */
    z-index: 1;
    /* 放在顶部 */
    left: 0;
    top: 0;
    width: 100%;
    /* 全宽 */
    height: 100%;
    /* 全高 */
    overflow: auto;
    /* 允许滚动 */
  }

  .popContent {
    display: flex;
    /*采用flexbox布局*/
    flex-direction: column;
    /*垂直排列*/
    position: relative;
    background-color: #fefefe;
    margin: 15% auto;
    /*距顶部15% 水平居中*/
    padding: 20px;

    width: 40%;
    animation: topDown 0.4s;
    background: none;

  }

  @keyframes topDown {
    from {
      top: -300px;
      opacity: 0
    }

    to {
      top: 0;
      opacity: 1
    }
  }

</style>

</html>
